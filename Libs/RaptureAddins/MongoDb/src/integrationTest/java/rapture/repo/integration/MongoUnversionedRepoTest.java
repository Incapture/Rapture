/**
 * Copyright (C) 2011-2015 Incapture Technologies LLC
 *
 * This is an autogenerated license statement. When copyright notices appear below
 * this one that copyright supercedes this statement.
 *
 * Unless required by applicable law or agreed to in writing, software is distributed
 * on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied.
 *
 * Unless explicit permission obtained in writing this software cannot be distributed.
 */
package rapture.repo.integration;

import rapture.common.MongoDbTests;
import rapture.repo.UnversionedRepoTest;

import org.apache.commons.lang.StringUtils;
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.experimental.categories.Category;

/**
 * If you want to run this test locally, you need to run {@link LocalTestSetup} first
 *
 * @author bardhi
 * @since 5/8/15.
 */
@Category(MongoDbTests.class)
public class MongoUnversionedRepoTest extends UnversionedRepoTest {

    @Override
    @Before
    public void setUp() throws Exception {
        super.setUp();
    }

    @Override
    @After
    public void tearDown() throws Exception {
        super.tearDown();
    }

    @Override
    protected boolean getUsesCleanupService() {
        return true;
    }

    @Override
    protected String getConfig(String authority) {
        return String.format("REP {} USING MONGODB { prefix=\"%s\"} on integrationTest", StringUtils.stripStart(authority, "/"));
    }

}
